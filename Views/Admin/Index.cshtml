@{
    Layout = "~/Views/Shared/Admin_Layout.cshtml";
    ViewData["Title"] = "Dashboard";

    // Fix nullable warning
    string userRole = ViewBag.UserRole as string ?? "Guest";
}


<div class="flex flex-col h-screen bg-gray-100">
   
    <main class="flex-1">
        
        <div class="grid grid-cols-1 md:grid-cols-12 gap-6 mb-6">
            
            <div class="md:col-span-4 bg-white rounded-lg shadow">
                <div class="p-4">
                    <h2 class="text-lg font-semibold text-gray-700">Total Users</h2>
                    <div class="flex items-center justify-between">
                        <div>
                            <div class="flex items-end">
                                <span class="text-4xl font-bold">2,436</span>
                                <span class="text-sm text-gray-500 ml-1 mb-1">Users</span>
                            </div>
                            <div class="mt-4 text-sm">
                                <div class="flex justify-between">
                                    <span>Residents</span>
                                    <span class="font-medium">1,218</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Staff's</span>
                                    <span class="font-medium">1,218</span>
                                </div>
                            </div>
                        </div>
                        <div class="p-2">
                            <svg class="w-10 h-10 text-blue-500" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 12a4 4 0 100-8 4 4 0 000 8z"></path>
                                <path d="M12 14c-4.42 0-8 1.79-8 4v2h16v-2c0-2.21-3.58-4-8-4z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            
           
            <div class="md:col-span-4 bg-white rounded-lg shadow">
                <div class="p-4">
                    <h2 class="text-lg font-semibold text-gray-700">Total Visitors</h2>
                    <div class="flex items-center justify-between">
                        <div>
                            <div class="flex items-end">
                                <span class="text-4xl font-bold">50</span>
                                <span class="text-sm text-gray-500 ml-1 mb-1">Visitors</span>
                            </div>
                            <div class="mt-4 text-sm flex items-center text-green-500">
                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                                </svg>
                                <span>12.5% from last month</span>
                            </div>
                        </div>
                        <div class="p-2">
                            <svg class="w-10 h-10 text-gray-800" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            
            
            <div class="md:col-span-4 bg-white rounded-lg shadow">
                <div class="p-4">
                    <h2 class="text-lg font-semibold text-gray-700 mb-4">Most Booked Facilities</h2>
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <span class="w-24 text-sm">Swimming Pool</span>
                            <div class="flex-1 bg-blue-100 rounded-full h-3">
                                <div class="bg-blue-500 h-3 rounded-full" style="width: 95%;"></div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-24 text-sm">Function Hall</span>
                            <div class="flex-1 bg-blue-100 rounded-full h-3">
                                <div class="bg-blue-500 h-3 rounded-full" style="width: 70%;"></div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-24 text-sm">Fitness Gym</span>
                            <div class="flex-1 bg-blue-100 rounded-full h-3">
                                <div class="bg-blue-500 h-3 rounded-full" style="width: 75%;"></div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-24 text-sm">Library</span>
                            <div class="flex-1 bg-blue-100 rounded-full h-3">
                                <div class="bg-blue-500 h-3 rounded-full" style="width: 45%;"></div>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="w-24 text-sm">Tennis Court</span>
                            <div class="flex-1 bg-blue-100 rounded-full h-3">
                                <div class="bg-blue-500 h-3 rounded-full" style="width: 55%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500 mt-2">
                        <span>0</span>
                        <span>10</span>
                        <span>20</span>
                        <span>30</span>
                        <span>40</span>
                        <span>50</span>
                        <span>60</span>
                        <span>70</span>
                        <span>80</span>
                        <span>90</span>
                        <span>100</span>
                    </div>
                </div>
            </div>
        </div>
        
     
        <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
         
            <div class="md:col-span-4 bg-white rounded-lg shadow">
                <div class="p-4">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold text-gray-700">Recent Activities</h2>
                        <a href="#" class="text-xs text-blue-500">View All</a>
                    </div>
                    <div class="space-y-4">
                        <div class="border-b pb-3">
                            <div class="flex justify-between items-center">
                                <span class="font-medium text-sm">New Forum Post</span>
                                <span class="text-xs text-gray-500">5 min ago</span>
                            </div>
                            <p class="text-sm text-gray-600">James Wilson has posted!</p>
                        </div>
                        <div class="border-b pb-3">
                            <div class="flex justify-between items-center">
                                <span class="font-medium text-sm">New Forum Post</span>
                                <span class="text-xs text-gray-500">1 min ago</span>
                            </div>
                            <p class="text-sm text-gray-600">James Lee has posted!</p>
                        </div>
                        <div class="border-b pb-3">
                            <div class="flex justify-between items-center">
                                <span class="font-medium text-sm">Payment Received</span>
                                <span class="text-xs text-gray-500">3 hrs ago</span>
                            </div>
                            <p class="text-sm text-gray-600">Sarah Johnson paid rent in full.</p>
                        </div>
                    </div>
                </div>
            </div>
            
          
<div class="md:col-span-4 bg-white rounded-lg shadow">
    <div class="p-4">
        <h2 class="text-lg font-semibold text-gray-700 mb-4">Service Request Status</h2>
        <div class="flex justify-center">
            <div class="w-48 h-48 relative">
                
                <svg viewBox="0 0 100 100" class="w-full h-full">
                    
                    <circle cx="50" cy="50" r="40" fill="transparent" stroke="#10b981" stroke-width="20" stroke-dasharray="251.3" stroke-dashoffset="125.7" transform="rotate(-90 50 50)"></circle>
                    
                    <circle cx="50" cy="50" r="40" fill="transparent" stroke="#f59e0b" stroke-width="20" stroke-dasharray="75.4" stroke-dashoffset="0" transform="rotate(-90 50 50)"></circle>
                    
                    <circle cx="50" cy="50" r="40" fill="transparent" stroke="#3b82f6" stroke-width="20" stroke-dasharray="50.3" stroke-dashoffset="0" transform="rotate(18 50 50)"></circle>
                   
                    <circle cx="50" cy="50" r="30" fill="white"></circle>
                </svg>
            </div>
        </div>
        <div class="flex justify-center mt-4 space-x-6">
            <div class="flex items-center">
                <div class="w-4 h-4 bg-yellow-500 mr-2"></div>
                <span class="text-sm">Open</span>
            </div>
            <div class="flex items-center">
                <div class="w-4 h-4 bg-blue-500 mr-2"></div>
                <span class="text-sm">In Progress</span>
            </div>
            <div class="flex items-center">
                <div class="w-4 h-4 bg-green-500 mr-2"></div>
                <span class="text-sm">Completed</span>
            </div>
        </div>
    </div>
</div>

       
        <div class="md:col-span-4 bg-white rounded-lg shadow">
            <div class="p-4">
                <h2 class="text-lg font-semibold text-gray-700 mb-4">Financial Review</h2>
                <div class="border-t border-blue-500 pt-4">
                  
                    <div class="relative h-64">
                        
                        <div class="absolute left-0 top-0 bottom-0 w-14 flex flex-col justify-between text-xs text-gray-500 py-1">
                            <div>$80,000</div>
                            <div>$70,000</div>
                            <div>$60,000</div>
                            <div>$50,000</div>
                            <div>$40,000</div>
                            <div>$30,000</div>
                            <div>$20,000</div>
                            <div>$10,000</div>
                            <div>$5000</div>
                            <div>$0</div>
                        </div>
                        
                        
                        <div class="ml-14 h-full flex items-end justify-between">
                            
                            <div class="w-1/5 px-1 flex flex-col items-center">
                                <div class="w-full flex space-x-1">
                                    <div class="w-5 bg-blue-300 h-44"></div>
                                    <div class="w-5 bg-blue-200 h-28"></div>
                                </div>
                                <div class="mt-2 text-xs">JAN</div>
                            </div>
                            
                          
                            <div class="w-1/5 px-1 flex flex-col items-center">
                                <div class="w-full flex space-x-1">
                                    <div class="w-5 bg-blue-300 h-40"></div>
                                    <div class="w-5 bg-blue-200 h-36"></div>
                                </div>
                                <div class="mt-2 text-xs">FEB</div>
                            </div>
                            
                          
                            <div class="w-1/5 px-1 flex flex-col items-center">
                                <div class="w-full flex space-x-1">
                                    <div class="w-5 bg-blue-300 h-36"></div>
                                    <div class="w-5 bg-blue-200 h-36"></div>
                                </div>
                                <div class="mt-2 text-xs">MAR</div>
                            </div>
                            
                           
                            <div class="w-1/5 px-1 flex flex-col items-center">
                                <div class="w-full flex space-x-1">
                                    <div class="w-5 bg-blue-300 h-44"></div>
                                    <div class="w-5 bg-blue-200 h-32"></div>
                                </div>
                                <div class="mt-2 text-xs">APR</div>
                            </div>
                            
                           
                            <div class="w-1/5 px-1 flex flex-col items-center">
                                <div class="w-full flex space-x-1">
                                    <div class="w-5 bg-blue-300 h-40"></div>
                                    <div class="w-5 bg-blue-200 h-28"></div>
                                </div>
                                <div class="mt-2 text-xs">MAY</div>
                            </div>
                        </div>
                    </div>
                    
                  
                    <div class="flex justify-start items-center mt-4 space-x-8">
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-blue-300 mr-2"></div>
                            <span class="text-sm">Bills Issued</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-4 h-4 bg-blue-200 mr-2"></div>
                            <span class="text-sm">Payments Collected</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </main>
</div>