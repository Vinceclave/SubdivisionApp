@{
    Layout = "~/Views/Shared/Admin_Layout.cshtml";
    ViewData["Title"] = "Community";

    // Fix nullable warning
    string userRole = ViewBag.UserRole as string ?? "Guest";
}

<!-- Dashboard Container -->
<div class="flex flex-col h-screen bg-gray-100">

    <!-- Main Content Area -->
    <main class="flex-1 p-4">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
            <!-- Announcements Section -->
            <div class="md:col-span-4 bg-white">
                <div class="p-3 bg-green-800 text-white font-bold">
                    ANNOUNCEMENTS
                </div>
                <div class="divide-y">
                    <!-- Announcement Item 1 -->
                    <div class="p-4 hover:bg-gray-50 flex">
                        <div class="w-1 bg-green-800 mr-3"></div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <h3 class="font-medium">System Maintenance</h3>
                                <span class="text-xs text-gray-500">2 hours ago</span>
                            </div>
                            <p class="text-sm mt-1 text-gray-600">
                                Scheduled maintenance on March 20th from 7:00-8:00 AM EST. 
                                Services may be intermittently unavailable.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Announcement Item 2 -->
                    <div class="p-4 hover:bg-gray-50 flex">
                        <div class="w-1 bg-green-800 mr-3"></div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <h3 class="font-medium">Community Guidelines Update</h3>
                                <span class="text-xs text-gray-500">Yesterday</span>
                            </div>
                            <p class="text-sm mt-1 text-gray-600">
                                We've updated our community guidelines. 
                                Please review the changes highlighted in section 3.4 of our Terms of Service.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Announcement Item 3 -->
                    <div class="p-4 hover:bg-gray-50 flex">
                        <div class="w-1 bg-green-800 mr-3"></div>
                        <div class="flex-1">
                            <div class="flex justify-between">
                                <h3 class="font-medium">New Feature Release</h3>
                                <span class="text-xs text-gray-500">March 10</span>
                            </div>
                            <p class="text-sm mt-1 text-gray-600">
                                We're excited to announce our new community polling feature! 
                                Check out the tutorial in Resources section.
                            </p>
                        </div>
                    </div>
                </div>

                            <!-- Add Announcement Button -->
                <div class="p-3 border-t flex justify-end">
                    <button class="px-4 py-2 bg-green-800 text-white rounded-sm text-sm flex items-center hover:bg-green-700 transition-colors">
                        <span class="mr-1">+</span> Add Announcement
                    </button>
                </div>

            </div>
           
            
            <!-- Community Forum Section -->
            <div class="md:col-span-8 bg-green-50" style="background-color: #D9DED5;">
                <div class="p-3 bg-green-800 text-white font-bold">
                    COMMUNITY FORUM
                </div>
                
                <!-- Post Controls -->
                <div class="flex justify-between p-3 bg-opacity-50">
                    <button class="px-4 py-1 bg-green-800 text-white rounded-sm text-sm">All Posts</button>
                    <button class="px-4 py-1 bg-green-800 text-white rounded-sm text-sm flex items-center">
                        <span class="mr-1">+</span> Create Post
                    </button>
                </div>
                
                <!-- Forum Posts -->
                <div class="p-4">
                    <!-- Post 1 -->
                    <div class="border bg-white rounded-md mb-4 overflow-hidden">
                        <div class="p-3">
                            <div class="flex items-center space-x-2">
                                <div class="w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center">
                                    <span class="text-sm text-gray-600">H</span>
                                </div>
                                <div>
                                    <span class="font-medium">Hetty</span>
                                    <span class="text-gray-500 text-sm"> · Admin</span>
                                </div>
                            </div>
                            
                            <div class="mt-2">
                                <h3 class="font-bold text-lg">I LOVE BLACKPINK</h3>
                                <p class="text-sm text-gray-600">Lorem ipsum is a dummy or placeholder text commonly used in graphic design.</p>
                            </div>
                            
                            <div class="mt-2">
                                <img src="/images/swimming-pool.jpg" alt="Blackpink Group" class="w-full h-48 object-cover rounded-md" />
                            </div>
                            
                            <div class="flex items-center space-x-4 mt-3 text-gray-500 text-sm">
                                <button class="flex items-center space-x-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                    </svg>
                                    <span>100 Likes</span>
                                </button>
                                <button class="flex items-center space-x-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                                    </svg>
                                    <span>20 Comments</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Post 2 -->
                    <div class="border bg-white rounded-md mb-4 overflow-hidden">
                        <div class="p-3">
                            <div class="flex items-center space-x-2">
                                <div class="w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center">
                                    <span class="text-sm text-gray-600">N</span>
                                </div>
                                <div>
                                    <span class="font-medium">Nancy Ramales</span>
                                    <span class="text-gray-500 text-sm"> · Homeowner</span>
                                </div>
                            </div>
                            
                            <div class="mt-2">
                                <!-- No title for this post -->
                                <img src="/images/house.jpg" alt="Community post image" class="w-full h-48 object-cover rounded-md" />
                            </div>
                                                        <div class="flex items-center space-x-4 mt-3 text-gray-500 text-sm">
                                <button class="flex items-center space-x-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                    </svg>
                                    <span>100 Likes</span>
                                </button>
                                <button class="flex items-center space-x-1">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                                    </svg>
                                    <span>20 Comments</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Overlay for profile dropdown when open -->
<div id="profile-overlay" class="fixed inset-0 bg-black opacity-50 z-40 hidden"></div>

<!-- Scripts -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Profile dropdown functionality
        const profileBtn = document.getElementById("profile-btn");
        const profileDropdown = document.getElementById("profile-dropdown");
        const profileOverlay = document.getElementById("profile-overlay");
        
        // Toggle profile dropdown
        profileBtn.addEventListener("click", function() {
            profileDropdown.classList.toggle("hidden");
            profileOverlay.classList.toggle("hidden");
        });
        
        // Close dropdown when clicking outside
        profileOverlay.addEventListener("click", function() {
            profileDropdown.classList.add("hidden");
            profileOverlay.classList.add("hidden");
        });
        
        // Close dropdown when clicking on a menu item
        const menuItems = profileDropdown.querySelectorAll("a");
        menuItems.forEach(item => {
            item.addEventListener("click", function() {
                profileDropdown.classList.add("hidden");
                profileOverlay.classList.add("hidden");
            });
        });
    });
</script>